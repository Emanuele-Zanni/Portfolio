---
import ecommerce from "../icons/ecommerce.png";
import code from "../icons/code.png";
import ArrowL from "../icons/ArrowL.astro";
import ArrowR from "../icons/ArrowR.astro";
import "@glidejs/glide/dist/css/glide.core.min.css";
import "@glidejs/glide/dist/css/glide.theme.min.css";
---

<div class="glide carousel">
  <div class="glide__track" data-glide-el="track">
    <ul class="glide__slides">
      <li class="glide__slide">
        <a href={ecommerce.src} data-lightbox="galeria">
          <img src={ecommerce.src} alt="Ecommerce" />
        </a>
      </li>
      <li class="glide__slide">
        <a href={code.src} data-lightbox="galeria">
          <img src={code.src} alt="Code" />
        </a>
      </li>
      <li class="glide__slide">
        <a href={code.src} data-lightbox="galeria">
          <img src={code.src} alt="Another" />
        </a>
      </li>
      <li class="glide__slide">
        <a href={ecommerce.src} data-lightbox="galeria">
          <img src={ecommerce.src} alt="Fourth" />
        </a>
      </li>
    </ul>
  </div>
  <div class="glide__arrows" data-glide-el="controls">
    <button class="glide__arrow glide__arrow--left" data-glide-dir="<">
      <ArrowL />
    </button>
    <button class="glide__arrow glide__arrow--right" data-glide-dir=">">
      <ArrowR />
    </button>
  </div>

  <script>
    import Glide from "@glidejs/glide";

    const carousel = document.querySelector(".carousel");
    const glide = new Glide(carousel, {
      type: "carousel-slider",
      perView: 3.25,
      focusAt: 0,
      gap: 10,
      autoplay: 3000,
      hoverpause: true,
      rewind: true,
      bound: true,
    });

    glide.mount();
  </script>

  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css"
  />

  <style>
    .glide__slide {
      height: 230px !important;
    }

    .glide__arrow {
      background-color: transparent;
      border: none;
      cursor: pointer;
    }

    .glide.carousel {
      width: 100%;
      height: 100%;
      overflow: hidden;
    }

    .glide__arrows {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 100%;
    }

    .glide__arrow--left {
      left: 10px;
    }

    .glide__arrow--right {
      right: 10px;
    }

    .glide__track {
      padding-bottom: 20px;
    }

    .glide__slide img {
      width: 335px !important;
      height: 230px !important;
      object-fit: cover;
    }
  </style>
</div>
