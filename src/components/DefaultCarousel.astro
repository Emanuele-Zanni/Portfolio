---
import ecommerce from "../icons/ecommerce.png";
---

<!-- Carousel.astro -->
<div class="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src={ecommerce.src} alt="Imagen 1" />
    </div>
    <div class="carousel-item">
      <img src={ecommerce.src} alt="Imagen 2" />
    </div>
    <div class="carousel-item">
      <img src={ecommerce.src} alt="Imagen 3" />
    </div>
  </div>
  <button class="carousel-prev">Anterior</button>
  <button class="carousel-next">Siguiente</button>
</div>

<style>
  /* Estilos para el carrusel */
  .carousel {
    position: relative;
    width: 100%;
    height: 300px;
    overflow: hidden;
  }

  .carousel-inner {
    display: flex;
    transition: transform 0.5s ease;
  }

  .carousel-item {
    width: 100%;
    height: 100%;
    flex-shrink: 0;
  }

  .carousel-item.active {
    opacity: 1;
  }

  .carousel-item:not(.active) {
    opacity: 0;
  }

  .carousel-prev,
  .carousel-next {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: transparent;
    border: none;
    cursor: pointer;
  }

  .carousel-prev {
    left: 10px;
  }

  .carousel-next {
    right: 10px;
  }
</style>

<script>
  // CÃ³digo JavaScript para el carrusel
  const carousel = document.querySelector(".carousel");
  const carouselInner = carousel.querySelector(".carousel-inner");
  const carouselItems = carouselInner.querySelectorAll(".carousel-item");
  const prevButton = carousel.querySelector(".carousel-prev");
  const nextButton = carousel.querySelector(".carousel-next");
  let currentIndex = 0;

  prevButton.addEventListener("click", () => {
    currentIndex--;
    if (currentIndex < 0) {
      currentIndex = carouselItems.length - 1;
    }
    updateCarousel();
  });

  nextButton.addEventListener("click", () => {
    currentIndex++;
    if (currentIndex >= carouselItems.length) {
      currentIndex = 0;
    }
    updateCarousel();
  });

  function updateCarousel() {
    carouselItems.forEach((item, index) => {
      item.classList.toggle("active", index === currentIndex);
    });
    carouselInner.style.transform = `translateX(${-currentIndex * 100}%)`;
  }
</script>
